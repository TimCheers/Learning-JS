<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Events Practice</title>
    <style>
        #area {
            width: 200px;
            height: 100px;
            border: 1px solid black;
            margin-top: 10px;
        }

        #outer {
            padding: 20px;
            background: #eef;
        }

        #inner {
            padding: 10px;
            background: #cce;
        }

        #box {
            width: 100px;
            height: 100px;
            background: lightgray;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <!-- Task 1.1 -->
    <button onclick="alert('Clicked!')">Click</button>
    <script>
        console.log("üü© Task 1.1: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ <button onclick="alert('Clicked!')">Click</button>
        // –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
    </script>


    <!-- Task 1.2 -->
    <button id="btn1">btn1</button>
    <script>
        console.log("üü© Task 1.2: –°–≤–æ–π—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ —Å id="btn1"
        // –ü—Ä–∏—Å–≤–æ–π —Å–≤–æ–π—Å—Ç–≤–æ .onclick = function(){...
        document.getElementById("btn1").onclick = function () { console.log("–ü–µ—Ä–≤–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞") }
    </script>


    <!-- Task 1.3 -->
    <button id="btn2">btn2</button>
    <script>
        console.log("üü© Task 1.3: –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ —Å id="btn2"
        // –î–æ–±–∞–≤—å —Å–ª—É—à–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ addEventListener("click", ...)
        document.getElementById("btn2").addEventListener("click", () => console.log("–í—Ç–æ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞"));
    </script>


    <!-- Task 2.1 -->
    <button id="data-btn" data-message="Hello" onclick="dataBtnClick(this)">With data</button>
    <script>
        console.log("üü© Task 2.1: –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ —Å data-message="Hello"
        // –ü–æ–ª—É—á–∏ –∑–Ω–∞—á–µ–Ω–∏–µ data-* –ø—Ä–∏ –∫–ª–∏–∫
        function dataBtnClick(btn) {
            console.log(btn);
        }
    </script>


    <!-- Task 2.2 -->
    <button id="btn3">Event Info</button>
    <script>
        console.log("üü© Task 2.2: –û–±—ä–µ–∫—Ç Event");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ —Å id="btn3"
        // –í—ã–≤–µ–¥–∏ event.type –∏ event.target –ø—Ä–∏ –∫–ª–∏–∫–µ
        function btn3Click(e) {
            console.log(e.type, e.target);
        }
        document.getElementById("btn3").addEventListener("click", btn3Click);
    </script>


    <!-- Task 2.3 -->
    <a href="https://metanit.com/web/javascript/9.3.php" id="link1">Link (stop default)</a>
    <script>
        console.log("üü© Task 2.3: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: —Å—Å—ã–ª–∫–∞ <a href="#">...</a> —Å id="link1"
        // –û—Ç–º–µ–Ω–∏ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ —á–µ—Ä–µ–∑ event.preventDefault()
        function linkHandler(e) {
            e.preventDefault();
        }
        document.getElementById("link1").addEventListener("click", linkHandler);
    </script>


    <!-- Task 2.4 -->
    <button class="btn">First</button>
    <button class="btn">Second</button>
    <script>
        console.log("üü© Task 2.4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–æ–ø–æ–∫ —Å –∫–ª–∞—Å—Å–æ–º "btn"
        // –í—ã–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏ (this / event.target)
        function btnClick() {
            console.log(this.textContent);
        }
        const btns = document.getElementsByClassName("btn");
        for (btn of btns) {
            btn.addEventListener("click", btnClick);
        }
    </script>


    <!-- Task 3.1 / 3.2 -->
    <div id="outer">
        Outer
        <div id="inner">Inner</div>
    </div>
    <script>
        console.log("üü© Task 3.1: –í–æ—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è (bubbling)");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –≤–ª–æ–∂–µ–Ω–Ω—ã–µ <div id="outer"><div id="inner"></div></div>
        // –î–æ–±–∞–≤—å click-—Å–æ–±—ã—Ç–∏–µ –Ω–∞ –æ–±–∞ div –∏ –ø—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–∞
        const innerElem = document.getElementById("inner");
        //innerElem.addEventListener("click", () => console.log("–°–æ–±—ã—Ç–∏–µ –Ω–∞ innerElem"));
        const outerElem = document.getElementById("outer");
        //outerElem.addEventListener("click", () => console.log("–°–æ–±—ã—Ç–∏–µ –Ω–∞ outerElem"));

        console.log("üü© Task 3.2: –ù–∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è (capturing)");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: —Ç–æ—Ç –∂–µ DOM
        // –î–æ–±–∞–≤—å —Å–æ–±—ã—Ç–∏–µ —Å useCapture = true –∏ –ø—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—è–¥–æ–∫
        innerElem.addEventListener("click", () => console.log("–°–æ–±—ã—Ç–∏–µ –Ω–∞ innerElem"), true);
        outerElem.addEventListener("click", () => console.log("–°–æ–±—ã—Ç–∏–µ –Ω–∞ outerElem"), true);
    </script>


    <!-- Task 4.1 -->
    <div id="area">Click area</div>
    <script>
        console.log("üü© Task 4.1: MouseEvent");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: div —Å id="area"
        // –ü—Ä–∏ –∫–ª–∏–∫–µ –≤—ã–≤–µ–¥–∏ event.clientX –∏ event.clientY
        function areaClick(e) {
            console.log(`x: ${e.clientX}; y: ${e.clientY}`);
        }
        document.getElementById("area").addEventListener("click", areaClick);
    </script>


    <!-- Task 5.1 -->
    <input id="input1" placeholder="Type here" />
    <script>
        console.log("üü© Task 5.1: –°–æ–±—ã—Ç–∏–µ keydown");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: input —Å id="input1"
        // –ü—Ä–∏ –≤–≤–æ–¥–µ –≤—ã–≤–æ–¥–∏ –∫–æ–¥ –∫–ª–∞–≤–∏—à–∏ (event.key, event.code)
        function input1Click(e) {
            console.log(`x: ${e.key}; y: ${e.code}`);
        }
        document.getElementById("input1").addEventListener("keypress", input1Click);
    </script>


    <!-- Task 6.1 -->
    <button id="btn4">Click me programmatically</button>
    <script>
        console.log("üü© Task 6.1: –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–ª–∏–∫");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–Ω–æ–ø–∫–∞ —Å id="btn4"
        // –°–¥–µ–ª–∞–π –µ—ë –∫–ª–∏–∫ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ .click()
        const btn4 = document.getElementById("btn4");
        const btnClickEvent = new MouseEvent("click");
        btn4.dispatchEvent(btnClickEvent);
    </script>


    <!-- Task 7.1 -->
    <div id="box">Custom Event Target</div>
    <script>
        console.log("üü© Task 7.1: CustomEvent");
        // –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: div —Å id="box"
        // –°–æ–∑–¥–∞–π –∏ –≤—ã–∑–æ–≤–∏ CustomEvent —Å detail = {message: "hi!"}
        // –î–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –≤—ã–≤–µ–¥–∏ message –∏–∑ —Å–æ–±—ã—Ç–∏—è
        const box = document.getElementById("box");
        box.addEventListener("my-event", function(event) {
            console.log(event.detail.message);
        });
        const myEvent = new CustomEvent("my-event", {
            detail: { message: "hi!" }
        });
        box.dispatchEvent(myEvent);
    </script>
</body>

</html>